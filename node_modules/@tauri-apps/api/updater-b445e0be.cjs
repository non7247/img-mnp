"use strict";var t=require("./tslib.es6-2b0ec40b.cjs"),n=require("./event-55fff31a.cjs");function r(r){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){return[2,n.listen("tauri://update-status",(function(t){r(null==t?void 0:t.payload)}))]}))}))}function e(){return t.__awaiter(this,void 0,void 0,(function(){function e(){i&&i(),i=void 0}var i;return t.__generator(this,(function(t){return[2,new Promise((function(t,o){r((function(n){return n.error?(e(),o(n.error)):"DONE"===n.status?(e(),t()):void 0})).then((function(t){i=t})).catch((function(t){throw e(),t})),n.emit("tauri://update-install").catch((function(t){throw e(),t}))}))]}))}))}function i(){return t.__awaiter(this,void 0,void 0,(function(){function e(){i&&i(),i=void 0}var i;return t.__generator(this,(function(t){return[2,new Promise((function(t,o){n.once("tauri://update-available",(function(n){var r;r=null==n?void 0:n.payload,e(),t({manifest:r,shouldUpdate:!0})})).catch((function(t){throw e(),t})),r((function(n){return n.error?(e(),o(n.error)):"UPTODATE"===n.status?(e(),t({shouldUpdate:!1})):void 0})).then((function(t){i=t})).catch((function(t){throw e(),t})),n.emit("tauri://update").catch((function(t){throw e(),t}))}))]}))}))}var o=Object.freeze({__proto__:null,onUpdaterEvent:r,installUpdate:e,checkUpdate:i});exports.checkUpdate=i,exports.installUpdate=e,exports.onUpdaterEvent=r,exports.updater=o;

import{_ as t,a as n}from"./tslib.es6-9bc0804d.js";import{l as o,a as r,o as i}from"./event-1823ec51.js";function u(r){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,o("tauri://update-status",(function(t){r(null==t?void 0:t.payload)}))]}))}))}function a(){return t(this,void 0,void 0,(function(){function t(){o&&o(),o=void 0}var o;return n(this,(function(n){return[2,new Promise((function(n,i){u((function(o){return o.error?(t(),i(o.error)):"DONE"===o.status?(t(),n()):void 0})).then((function(t){o=t})).catch((function(n){throw t(),n})),r("tauri://update-install").catch((function(n){throw t(),n}))}))]}))}))}function e(){return t(this,void 0,void 0,(function(){function t(){o&&o(),o=void 0}var o;return n(this,(function(n){return[2,new Promise((function(n,a){i("tauri://update-available",(function(o){var r;r=null==o?void 0:o.payload,t(),n({manifest:r,shouldUpdate:!0})})).catch((function(n){throw t(),n})),u((function(o){return o.error?(t(),a(o.error)):"UPTODATE"===o.status?(t(),n({shouldUpdate:!1})):void 0})).then((function(t){o=t})).catch((function(n){throw t(),n})),r("tauri://update").catch((function(n){throw t(),n}))}))]}))}))}var c=Object.freeze({__proto__:null,onUpdaterEvent:u,installUpdate:a,checkUpdate:e});export{e as c,a as i,u as o,c as u};
